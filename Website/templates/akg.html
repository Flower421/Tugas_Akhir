<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Toddler Meal Planner</title>
    <style>
		/* Mengatur tampilan layar dan latar belakang */
        body { 
			font-family: sans-serif; 
			text-align: center; 
			padding: 40px; 
		}
		
		/* Mengatur tampilan kotak konten */
        .card { border: 1px solid #ddd; 
			padding: 20px; 
			border-radius: 10px; 
			max-width: 500px; 
			margin: 0 auto; 
			box-shadow: 0 4px 8px rgba(0,0,0,0.1); 
		}
		
		/* Mengatur tampilan tabel AKG */
        table { 
			width: 100%; 
			margin-top: 20px; 
			border-collapse: collapse; 
		}
        td, th { 
			border-bottom: 1px solid #ddd; 
			padding: 10px; 
			text-align: left;
		}
        
		/* Mengatur tombol "Buat Menu Makanan" */
        .btn-process { 
			background-color: #007bff; 
			color: white; padding: 12px 25px; 
			border: none; border-radius: 5px; 
			font-size: 16px; cursor: pointer; 
			margin-top: 20px; 
			width: 100%; 
		}
		/* Mengatur pergerakan tombol "Buat Menu Makanan" */
        .btn-process:hover { 
			background-color: #0056b3; 
		}
		
		/* Mengatur tampilan layar saat menyusun menu makanan */
        #loading-screen {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: #f0f2f5;
            z-index: 9999;
            text-align: center;
            
            flex-direction: column;
            justify-content: center; 
            align-items: center;     
        }

		/* Mengatur animasi jam pasir pada layar penunggu saat penyusunan menu makanan */
        .spinner { 
			font-size: 50px; 
			animation: spin 2s linear infinite; 
			display: inline-block; 
			margin-bottom: 20px; 
		}
		
        @keyframes spin { 
			0% { transform: rotate(0deg); } 
			100% { transform: rotate(360deg); } 
		}

        /* Mengatur tombol kembali */
        .btn-back {
            text-decoration: none;
            color: #6c757d;
            font-weight: 600;
            display: block;        
            text-align: left;      
            margin-top: 15px;      
            transition: color 0.3s;
            font-size: 14px;
        }
		/* Mengatur pergerakan tombol kembali */
        .btn-back:hover {
            color: #007bff; 
        }
		
    </style>
</head>
<body>

    <div id="content-akg">
        <h1>üìä Target Gizi Harian</h1>
        <p>Untuk usia <strong>{{ user.umur }} tahun</strong>.</p>

        <div class="card">
            <table>
                <tr><th>Nutrisi</th><th>Kebutuhan Harian</th></tr>
                <tr><td>Kalori</td><td>{{ akg.Kalori }} kkal</td></tr>
                <tr><td>Protein</td><td>{{ akg.Protein }} g</td></tr>
                <tr><td>Lemak</td><td>{{ akg.Lemak }} g</td></tr>
                <tr><td>Karbohidrat</td><td>{{ akg.Karbohidrat }} g</td></tr>
                <tr><td>Serat</td><td>{{ akg.Serat }} g</td></tr>
            </table>

            <form action="/generate" method="POST" onsubmit="showLoading()">
                <input type="hidden" name="umur" value="{{ user.umur }}">
                <input type="hidden" name="tahun" value="{{ user.tahun }}">
                <input type="hidden" name="alergi" value="{{ user.alergi }}">
                
                <button type="submit" class="btn-process">Buat Menu Makanan ¬ª</button>
            </form>

            <a href="/mulai" class="btn-back">‚¨Ö Kembali</a>
        </div>
    </div>

    <div id="loading-screen">
        <div class="spinner">‚è≥</div>
        <h2>Sistem Sedang Membuat Menu Makanan...</h2>
        <p style="color: #d9534f; font-weight: bold;">‚ö†Ô∏è Proses ini memakan waktu sekitar 2 - 3 menit, mohon jangan tutup halaman ini sampai hasil keluar ‚ö†Ô∏è.</p>
        <p style="color: #666;">Harap menunggu... üòä</p>
    </div>

    <script>
        function showLoading() {
            document.getElementById('content-akg').style.display = 'none';
            document.getElementById('loading-screen').style.display = 'flex';
        }
    </script>

</body>
</html>